# 3.2.2 Field Types & Modifiers

## 📋 Section Overview
- **Duration**: 15 minutes
- **Prerequisites**: 
  - Completed Lesson 3.2.1: Model Declaration & Naming Conventions
  - Understanding of database data types and constraints
  - Basic knowledge of TypeScript/JavaScript types
- **Learning Objectives**: 
  - Master all Prisma scalar and complex field types
  - Implement field modifiers for data validation and constraints
  - Apply database-specific type mappings for optimal performance
  - Design type-safe data models with comprehensive validation
  - Create flexible and robust field architectures
- **Difficulty Level**: Beginner to Intermediate

---

## 🎯 What You'll Learn

By the end of this lesson, you will:
- ✅ Understand and implement all Prisma field types effectively
- ✅ Apply field modifiers for validation and constraints
- ✅ Use database-specific type mappings for optimization
- ✅ Create optional and required field configurations
- ✅ Implement lists, arrays, and complex data structures
- ✅ Design type-safe models with comprehensive field validation

---

## 📖 Content

### Understanding Field Types & Modifiers Architecture

Working with Prisma field types and modifiers is like **designing a sophisticated inventory management system for a high-tech warehouse**. Just as warehouse managers organize storage systems with specific container types for different product categories (electronics in anti-static boxes, chemicals in sealed containers, fragile items in padded compartments), validation checkpoints that ensure product quality and safety, labeling systems that provide detailed product specifications and handling instructions, optional storage areas for seasonal or overflow inventory, and automated sorting mechanisms that efficiently categorize and route products—Prisma field types organize data with scalar types for basic values, complex types for structured data, validation modifiers that ensure data integrity and constraints, optional modifiers that allow flexible data entry, and type-safe configurations that automatically handle data processing and validation.

### 🏭 Warehouse Inventory System Analogy

```
🏭 High-Tech Warehouse = 📊 Prisma Field Types System

📦 Storage Container Types (Scalar Field Types)
├── Standard boxes → String fields (text data)
├── Number containers → Int/Float/Decimal fields (numeric data)
├── Time-sensitive units → DateTime fields (temporal data)
├── Security containers → Boolean fields (binary states)
├── Climate-controlled → JSON fields (structured data)
└── Specialized storage → Bytes fields (binary data)

🔍 Quality Control Gates (Field Modifiers)
├── Required inspection → Required fields (!)
├── Optional processing → Optional fields (?)
├── Unique verification → @unique modifier
├── Default assignment → @default() modifier
├── Batch containers → Array fields ([])
└── Custom validation → @db type mappings

📋 Inventory Labeling (Type Constraints)
├── Size specifications → String length limits (@db.VarChar)
├── Weight limits → Numeric precision (@db.Decimal)
├── Expiry tracking → DateTime with timezone (@db.Timestamptz)
├── Category codes → Enum type definitions
├── Handling instructions → Custom attribute configurations
└── Safety protocols → Validation rule implementations

🔄 Automated Processing (Type Safety)
├── Intake validation → Type checking at compile time
├── Sorting algorithms → Automatic type conversion
├── Quality assurance → Runtime validation
├── Inventory tracking → Null safety and optional handling
├── Performance optimization → Database-specific type mapping
└── Error prevention → Type-safe API generation
```

---

## 🏗️ Scalar Field Types Fundamentals

### 1. String Types & Text Handling

```prisma
// ==========================================
// STRING FIELD TYPES & CONFIGURATIONS
// ==========================================

/// Comprehensive string field type examples
/// Demonstrates various string configurations and database mappings
model User {
  id String @id @default(cuid())
  
  // Basic string fields with different constraints
  email         String    @unique @db.VarChar(255)     // Email with length limit
  username      String?   @unique @db.VarChar(50)      // Optional username
  firstName     String?   @db.VarChar(50)              // First name with limit
  lastName      String?   @db.VarChar(50)              // Last name with limit
  displayName   String    @db.VarChar(100)             // Display name
  
  // Text fields for larger content
  bio           String?   @db.Text                     // User biography
  description   String?   @db.Text                     // Detailed description
  notes         String?   @db.Text                     // Admin notes
  
  // Fixed-length strings for codes and identifiers
  countryCode   String?   @db.Char(2)                  // ISO country code
  currencyCode  String    @default("USD") @db.Char(3)  // ISO currency code
  phoneCode     String?   @db.VarChar(5)               // Phone country code
  
  // URLs and external references
  avatarUrl     String?   @db.Text                     // Profile image URL
  websiteUrl    String?   @db.VarChar(255)             // Personal website
  linkedinUrl   String?   @db.VarChar(255)             // LinkedIn profile
  
  // Hashed and encrypted fields
  passwordHash  String    @db.VarChar(255)             // Bcrypt hash
  apiKeyHash    String?   @db.VarChar(255)             // API key hash
  
  // Enum-like strings with constraints
  role          UserRole  @default(USER)               // Enum type
  status        String    @default("active") @db.VarChar(20) // Status string
  
  // Searchable text fields
  searchTerms   String?   @db.Text                     // Generated search terms
  
  @@map("users")
  
  // Indexes for string fields
  @@index([email])                                     // Fast email lookup
  @@index([username])                                  // Username search
  @@index([firstName, lastName])                       // Name-based search
  @@index([status])                                    // Status filtering
  
  // Full-text search indexes (PostgreSQL)
  @@index([displayName, bio], name: "user_search_idx", type: Gin)
}

/// String field validation patterns and examples
model Product {
  id String @id @default(cuid())
  
  // Product identification strings
  sku           String    @unique @db.VarChar(50)      // Stock keeping unit
  barcode       String?   @unique @db.VarChar(100)     // Product barcode
  serialNumber  String?   @unique @db.VarChar(100)     // Serial number
  
  // Product naming and description
  name          String    @db.VarChar(200)             // Product name
  shortName     String?   @db.VarChar(50)              // Abbreviated name
  description   String    @db.Text                     // Full description
  specifications String?  @db.Text                     // Technical specs
  
  // SEO and marketing strings
  slug          String    @unique @db.VarChar(255)     // URL-friendly identifier
  metaTitle     String?   @db.VarChar(60)              // SEO title
  metaDesc      String?   @db.VarChar(160)             // SEO description
  keywords      String?   @db.Text                     // Search keywords
  
  // Categorization strings
  category      String    @db.VarChar(50)              // Primary category
  subcategory   String?   @db.VarChar(50)              // Subcategory
  tags          String?   @db.Text                     // Comma-separated tags
  
  // External references
  manufacturerCode String? @db.VarChar(50)             // Manufacturer's code
  supplierRef      String? @db.VarChar(100)            // Supplier reference
  
  @@map("products")
  @@index([sku])
  @@index([slug])
  @@index([category, subcategory])
}

/// String enums for controlled vocabulary
enum UserRole {
  ADMIN         // System administrator
  MANAGER       // Department manager
  USER          // Regular user
  GUEST         // Limited access user
  MODERATOR     // Content moderator
  
  @@map("user_roles")
}

/// String arrays for multiple values
model BlogPost {
  id String @id @default(cuid())
  
  // Single string fields
  title         String    @db.VarChar(200)
  slug          String    @unique @db.VarChar(255)
  content       String    @db.Text
  
  // String arrays for multiple values
  tags          String[]  @db.VarChar(50)             // Array of tag strings
  categories    String[]  @db.VarChar(50)             // Multiple categories
  authors       String[]  @db.VarChar(100)            // Multiple author names
  
  // JSON strings for complex structures
  metadata      Json?                                 // Flexible metadata
  
  @@map("blog_posts")
  @@index([tags])                                     // Index on array field
  @@index([categories])                               // Category array index
}
```

### 2. Numeric Types & Mathematical Operations

```prisma
// ==========================================
// NUMERIC FIELD TYPES & CONFIGURATIONS
// ==========================================

/// Comprehensive numeric field type examples
/// Demonstrates integers, floating-point, and decimal precision
model FinancialTransaction {
  id String @id @default(cuid())
  
  // Integer types for counts and IDs
  transactionNumber Int      @unique @default(autoincrement()) // Auto-increment ID
  itemCount         Int      @default(1)                       // Number of items
  retryCount        Int      @default(0)                       // Retry attempts
  
  // Integer types with database-specific mappings
  userId            BigInt   @db.BigInt                        // Large ID numbers
  organizationId    Int      @db.Integer                       // Standard integer
  categoryId        Int      @db.SmallInt                      // Small integer
  
  // Decimal types for precise financial calculations
  amount            Decimal  @db.Decimal(12, 2)               // Currency amount
  taxAmount         Decimal  @db.Decimal(10, 2)               // Tax calculation
  discountAmount    Decimal? @db.Decimal(8, 2)                // Optional discount
  
  // Floating-point for scientific/statistical data
  exchangeRate      Float    @db.DoublePrecision               // Currency exchange
  feePercentage     Float    @db.Real                         // Percentage fee
  
  // Percentage and ratio calculations
  taxRate           Decimal  @default(0.0825) @db.Decimal(5, 4) // Tax rate (8.25%)
  discountRate      Float?   @db.Real                         // Discount percentage
  
  // Financial calculations (computed fields would be ideal, but stored for performance)
  subtotal          Decimal  @db.Decimal(12, 2)               // Before tax/discount
  total             Decimal  @db.Decimal(12, 2)               // Final amount
  
  // Audit and versioning
  version           Int      @default(1)                      // Optimistic locking
  
  @@map("financial_transactions")
  @@index([amount])                                            // Amount-based queries
  @@index([taxRate])                                           // Tax rate filtering
  @@index([transactionNumber])                                 // Transaction lookup
}

/// Product inventory with various numeric types
model ProductInventory {
  id String @id @default(cuid())
  
  // Basic counting integers
  stockQuantity     Int      @default(0)                      // Current stock
  reservedQuantity  Int      @default(0)                      // Reserved items
  minimumStock      Int      @default(5)                      // Reorder threshold
  maximumStock      Int?                                      // Maximum capacity
  
  // Large numbers for high-volume operations
  totalSold         BigInt   @default(0) @db.BigInt           // Lifetime sales
  totalViews        BigInt   @default(0) @db.BigInt           // Page views
  
  // Precise measurements and weights
  weight            Decimal? @db.Decimal(8, 3)                // Weight in kg
  length            Decimal? @db.Decimal(6, 2)                // Length in cm
  width             Decimal? @db.Decimal(6, 2)                // Width in cm
  height            Decimal? @db.Decimal(6, 2)                // Height in cm
  
  // Volume and capacity
  volume            Float?   @db.Real                         // Volume in liters
  capacity          Float?   @db.Real                         // Container capacity
  
  // Performance metrics
  averageRating     Decimal? @db.Decimal(3, 2)                // 0.00 to 5.00 rating
  conversionRate    Float?   @db.Real                         // Sales conversion %
  
  // Pricing information
  costPrice         Decimal  @db.Decimal(10, 2)               // Cost basis
  sellingPrice      Decimal  @db.Decimal(10, 2)               // Retail price
  marginPercentage  Float    @db.Real                         // Profit margin %
  
  @@map("product_inventory")
  @@index([stockQuantity])                                     // Stock level queries
  @@index([minimumStock])                                      // Reorder alerts
  @@index([averageRating])                                     // Rating-based sorting
}

/// Analytics and metrics with advanced numeric handling
model UserAnalytics {
  id String @id @default(cuid())
  
  // User identification
  userId            String   
  user              User     @relation(fields: [userId], references: [id])
  
  // Session and engagement metrics
  sessionCount      Int      @default(0)                      // Total sessions
  pageViews         BigInt   @default(0) @db.BigInt           // Total page views
  avgSessionTime    Float    @db.Real                         // Average session duration
  
  // Interaction counts
  likesGiven        Int      @default(0)                      // Likes given by user
  commentsPosted    Int      @default(0)                      // Comments posted
  postsCreated      Int      @default(0)                      // Posts created
  
  // Computed percentiles and ratios
  engagementScore   Decimal  @db.Decimal(5, 2)                // Calculated engagement
  activityRatio     Float    @db.Real                         // Activity percentage
  retentionScore    Decimal  @db.Decimal(4, 2)                // Retention metric
  
  // Time-based metrics (in seconds)
  totalTimeSpent    BigInt   @default(0) @db.BigInt           // Cumulative time
  avgTimePerPost    Float?   @db.Real                         // Time per post creation
  
  // Geographic and location data
  latitude          Float?   @db.DoublePrecision              // GPS latitude
  longitude         Float?   @db.DoublePrecision              // GPS longitude
  
  @@unique([userId])                                           // One record per user
  @@map("user_analytics")
  @@index([engagementScore])                                   // Engagement queries
  @@index([sessionCount])                                      // Activity level
}
```

### 3. Date, Time & Temporal Types

```prisma
// ==========================================
// DATETIME & TEMPORAL FIELD TYPES
// ==========================================

/// Comprehensive datetime and temporal field examples
/// Demonstrates various time-related data patterns and timezone handling
model EventSchedule {
  id String @id @default(cuid())
  
  // Basic datetime fields with automatic timestamps
  createdAt         DateTime @default(now()) @db.Timestamptz  // Creation timestamp
  updatedAt         DateTime @updatedAt @db.Timestamptz       // Auto-update timestamp
  
  // Event timing fields
  eventStartTime    DateTime @db.Timestamptz                  // Event start (with timezone)
  eventEndTime      DateTime @db.Timestamptz                  // Event end (with timezone)
  registrationOpen  DateTime @db.Timestamptz                  // Registration opening
  registrationClose DateTime @db.Timestamptz                  // Registration closing
  
  // Date-only fields (no time component)
  eventDate         DateTime @db.Date                         // Date without time
  deadlineDate      DateTime? @db.Date                        // Optional deadline
  
  // Time-only fields (no date component)
  startTime         DateTime @db.Time                         // Time without date
  endTime           DateTime @db.Time                         // Time without date
  
  // Timestamp fields for audit trails
  publishedAt       DateTime? @db.Timestamptz                 // When published
  canceledAt        DateTime? @db.Timestamptz                 // If canceled
  archivedAt        DateTime? @db.Timestamptz                 // When archived
  
  // User interaction timestamps
  lastViewedAt      DateTime? @db.Timestamptz                 // Last user view
  lastModifiedBy    String?                                   // User who modified
  lastModifiedAt    DateTime? @db.Timestamptz                 // Modification time
  
  // Recurring event fields
  isRecurring       Boolean  @default(false)                 // Is this recurring?
  recurringPattern  String?  @db.VarChar(50)                 // Pattern description
  nextOccurrence    DateTime? @db.Timestamptz                // Next event time
  
  // Timezone and locale information
  timezone          String   @default("UTC") @db.VarChar(50) // Event timezone
  locale            String   @default("en-US") @db.VarChar(10) // Display locale
  
  @@map("event_schedules")
  @@index([eventStartTime])                                   // Start time queries
  @@index([eventDate])                                        // Date-based filtering
  @@index([publishedAt])                                      // Publication queries
  @@index([timezone])                                         // Timezone grouping
}

/// User session and activity tracking with temporal data
model UserSession {
  id String @id @default(cuid())
  
  // Session identification
  sessionToken      String   @unique @db.VarChar(255)        // Session identifier
  userId            String                                   // User reference
  user              User     @relation(fields: [userId], references: [id])
  
  // Session lifecycle timestamps
  startedAt         DateTime @default(now()) @db.Timestamptz // Session start
  lastActiveAt      DateTime @default(now()) @db.Timestamptz // Last activity
  expiresAt         DateTime @db.Timestamptz                 // Session expiration
  endedAt           DateTime? @db.Timestamptz                // Session end
  
  // Activity tracking
  pageViewCount     Int      @default(0)                     // Pages viewed
  actionCount       Int      @default(0)                     // Actions performed
  
  // Session duration calculations (stored for performance)
  durationSeconds   Int?                                     // Total duration
  idleTimeSeconds   Int      @default(0)                     // Idle time
  
  // Device and access information
  ipAddress         String   @db.VarChar(45)                 // IPv4/IPv6 address
  userAgent         String   @db.Text                        // Browser info
  deviceType        String?  @db.VarChar(20)                 // mobile/desktop/tablet
  
  // Geographic and temporal context
  accessTimezone    String?  @db.VarChar(50)                 // User's timezone
  accessDate        DateTime @db.Date                        // Access date (local)
  
  // Security and validation
  isValid           Boolean  @default(true)                  // Session validity
  invalidatedAt     DateTime? @db.Timestamptz                // When invalidated
  invalidatedReason String?  @db.VarChar(100)                // Reason for invalidation
  
  @@map("user_sessions")
  @@index([userId, startedAt])                               // User session history
  @@index([lastActiveAt])                                    // Active session queries
  @@index([expiresAt])                                       // Cleanup queries
  @@index([accessDate])                                      // Daily statistics
}

/// Subscription and billing with complex temporal patterns
model Subscription {
  id String @id @default(cuid())
  
  // Subscription lifecycle
  createdAt         DateTime @default(now()) @db.Timestamptz
  activatedAt       DateTime? @db.Timestamptz                // When activated
  pausedAt          DateTime? @db.Timestamptz                // When paused
  resumedAt         DateTime? @db.Timestamptz                // When resumed
  canceledAt        DateTime? @db.Timestamptz                // When canceled
  expiredAt         DateTime? @db.Timestamptz                // When expired
  
  // Billing cycle timestamps
  billingStartDate  DateTime @db.Date                        // Billing period start
  billingEndDate    DateTime @db.Date                        // Billing period end
  nextBillingDate   DateTime @db.Date                        // Next charge date
  lastBillingDate   DateTime? @db.Date                       // Last successful billing
  
  // Trial period handling
  trialStartDate    DateTime? @db.Date                       // Trial start
  trialEndDate      DateTime? @db.Date                       // Trial end
  isTrialActive     Boolean  @default(false)                 // Currently in trial
  
  // Payment and renewal tracking
  lastPaymentAt     DateTime? @db.Timestamptz                // Last payment
  nextPaymentDue    DateTime? @db.Timestamptz                // Payment due date
  gracePeriodEnd    DateTime? @db.Timestamptz                // Grace period expiry
  
  // Subscription modifications
  planChangedAt     DateTime? @db.Timestamptz                // Plan change timestamp
  priceChangedAt    DateTime? @db.Timestamptz                // Price change timestamp
  
  // Usage tracking periods
  usageResetDate    DateTime @db.Date                        // Usage counter reset
  reportingPeriod   DateTime @db.Date                        // Reporting period
  
  @@map("subscriptions")
  @@index([nextBillingDate])                                 // Billing processing
  @@index([trialEndDate])                                    // Trial expiry
  @@index([expiredAt])                                       // Expired subscriptions
  @@index([createdAt])                                       // Subscription trends
}
```

### 4. Boolean Types & State Management

```prisma
// ==========================================
// BOOLEAN FIELD TYPES & STATE MANAGEMENT
// ==========================================

/// Comprehensive boolean field examples for state management
/// Demonstrates various boolean patterns and state tracking
model UserAccount {
  id String @id @default(cuid())
  
  // Account status booleans
  isActive          Boolean  @default(true)                  // Account active state
  isVerified        Boolean  @default(false)                 // Email verification
  isEmailVerified   Boolean  @default(false)                 // Email confirmed
  isPhoneVerified   Boolean  @default(false)                 // Phone confirmed
  is2FAEnabled      Boolean  @default(false)                 // Two-factor auth
  isBlocked         Boolean  @default(false)                 // Account blocked
  isSuspended       Boolean  @default(false)                 // Temporary suspension
  isDeleted         Boolean  @default(false)                 // Soft deletion
  
  // Privacy and visibility settings
  isPublic          Boolean  @default(true)                  // Public profile
  isSearchable      Boolean  @default(true)                  // Search visibility
  showEmail         Boolean  @default(false)                 // Email visibility
  showPhone         Boolean  @default(false)                 // Phone visibility
  allowMessages     Boolean  @default(true)                  // Accept messages
  allowNotifications Boolean  @default(true)                 // Push notifications
  
  // Feature toggles and permissions
  canCreatePosts    Boolean  @default(true)                  // Posting permission
  canComment        Boolean  @default(true)                  // Comment permission
  canUploadFiles    Boolean  @default(true)                  // File upload permission
  canInviteUsers    Boolean  @default(false)                 // Invitation permission
  hasAdminAccess    Boolean  @default(false)                 // Admin privileges
  hasPremiumFeatures Boolean  @default(false)                // Premium access
  
  // Marketing and communication preferences
  acceptMarketing   Boolean  @default(false)                 // Marketing emails
  acceptNewsletter  Boolean  @default(false)                 // Newsletter subscription
  acceptSMS         Boolean  @default(false)                 // SMS notifications
  acceptPushNotifs  Boolean  @default(true)                  // Push notifications
  
  // Agreement and consent tracking
  termsAccepted     Boolean  @default(false)                 // Terms of service
  privacyAccepted   Boolean  @default(false)                 // Privacy policy
  cookiesAccepted   Boolean  @default(false)                 // Cookie consent
  dataProcessingConsent Boolean @default(false)              // GDPR consent
  
  // Security and audit flags
  requirePasswordChange Boolean @default(false)              // Force password change
  loginAlertsEnabled    Boolean @default(true)               // Login notifications
  suspiciousActivity    Boolean @default(false)              // Security flag
  
  @@map("user_accounts")
  @@index([isActive, isVerified])                            // Active verified users
  @@index([isBlocked, isSuspended])                          // Blocked/suspended users
  @@index([isPublic, isSearchable])                          // Public searchable users
}

/// Product listing with boolean feature flags
model Product {
  id String @id @default(cuid())
  
  // Product availability and status
  isAvailable       Boolean  @default(true)                  // Available for sale
  isActive          Boolean  @default(true)                  // Active listing
  isVisible         Boolean  @default(true)                  // Visible to users
  isFeatured        Boolean  @default(false)                 // Featured product
  isOnSale          Boolean  @default(false)                 // Sale pricing
  isDiscounted      Boolean  @default(false)                 // Discount applied
  isNew             Boolean  @default(true)                  // New product flag
  isBestseller      Boolean  @default(false)                 // Bestseller status
  
  // Inventory and fulfillment
  isInStock         Boolean  @default(true)                  // Stock availability
  isBackordered     Boolean  @default(false)                 // Backorder status
  isPreorder        Boolean  @default(false)                 // Preorder item
  requiresShipping  Boolean  @default(true)                  // Physical shipping
  isDigitalProduct  Boolean  @default(false)                 // Digital delivery
  isGiftCard        Boolean  @default(false)                 // Gift card product
  
  // Product characteristics
  isFragile         Boolean  @default(false)                 // Special handling
  isHazardous       Boolean  @default(false)                 // Hazardous material
  requiresAge       Boolean  @default(false)                 // Age verification
  isSubscription    Boolean  @default(false)                 // Subscription product
  isBundle          Boolean  @default(false)                 // Product bundle
  isCustomizable    Boolean  @default(false)                 // Customization options
  
  // SEO and marketing flags
  isSearchable      Boolean  @default(true)                  // Search indexing
  isPromotable      Boolean  @default(true)                  // Marketing campaigns
  showRelated       Boolean  @default(true)                  // Show related products
  allowReviews      Boolean  @default(true)                  // Customer reviews
  trackInventory    Boolean  @default(true)                  // Inventory tracking
  
  // Administrative flags
  requiresApproval  Boolean  @default(false)                 // Admin approval needed
  isArchived        Boolean  @default(false)                 // Archived product
  isDeleted         Boolean  @default(false)                 // Soft deletion
  
  @@map("products")
  @@index([isAvailable, isActive])                           // Available products
  @@index([isFeatured, isVisible])                           // Featured products
  @@index([isOnSale, isDiscounted])                          // Sale products
  @@index([isInStock, isActive])                             // Stock queries
}

/// Content management with boolean workflow states
model BlogPost {
  id String @id @default(cuid())
  
  // Publishing workflow booleans
  isDraft           Boolean  @default(true)                  // Draft status
  isPublished       Boolean  @default(false)                 // Published status
  isScheduled       Boolean  @default(false)                 // Scheduled publishing
  isFeatured        Boolean  @default(false)                 // Featured content
  isPinned          Boolean  @default(false)                 // Pinned to top
  isArchived        Boolean  @default(false)                 // Archived content
  
  // Content characteristics
  isOriginal        Boolean  @default(true)                  // Original content
  isTranslated      Boolean  @default(false)                 // Translated content
  isSensitive       Boolean  @default(false)                 // Sensitive content
  requiresLogin     Boolean  @default(false)                 // Login required
  isPremium         Boolean  @default(false)                 // Premium content
  isSponsored       Boolean  @default(false)                 // Sponsored post
  
  // Interaction settings
  allowComments     Boolean  @default(true)                  // Comments enabled
  allowSharing      Boolean  @default(true)                  // Social sharing
  allowEmbedding    Boolean  @default(true)                  // Embed permission
  trackViews        Boolean  @default(true)                  // View tracking
  
  // SEO and discoverability
  isIndexable       Boolean  @default(true)                  // Search indexing
  isSearchable      Boolean  @default(true)                  // Site search
  showInFeed        Boolean  @default(true)                  // RSS/feed inclusion
  showRelated       Boolean  @default(true)                  // Related posts
  
  // Content quality and moderation
  isApproved        Boolean  @default(false)                 // Editorial approval
  isReviewed        Boolean  @default(false)                 // Editorial review
  hasWarnings       Boolean  @default(false)                 // Content warnings
  isReported        Boolean  @default(false)                 // User reports
  isVerified        Boolean  @default(false)                 // Fact-checked
  
  @@map("blog_posts")
  @@index([isPublished, isFeatured])                         // Published featured
  @@index([isDraft, isReviewed])                             // Draft workflow
  @@index([allowComments, isPublished])                      // Comment-enabled posts
}
```

### 5. JSON & Complex Data Types

```prisma
// ==========================================
// JSON & COMPLEX DATA TYPE CONFIGURATIONS
// ==========================================

/// Comprehensive JSON and complex field type examples
/// Demonstrates flexible data storage and structured content
model UserPreferences {
  id String @id @default(cuid())
  
  // User reference
  userId            String   @unique
  user              User     @relation(fields: [userId], references: [id])
  
  // Simple JSON fields for flexible data
  settings          Json?    @db.Jsonb                       // User settings object
  preferences       Json?    @db.Jsonb                       // User preferences
  metadata          Json?    @db.Jsonb                       // Additional metadata
  
  // Structured JSON for specific use cases
  notificationSettings Json? @db.Jsonb                       // Notification preferences
  themeConfiguration   Json? @db.Jsonb                       // UI theme settings
  privacySettings      Json? @db.Jsonb                       // Privacy preferences
  
  // Complex nested data structures
  dashboard           Json?  @db.Jsonb                       // Dashboard layout
  widgets             Json?  @db.Jsonb                       // Widget configurations
  shortcuts           Json?  @db.Jsonb                       // Keyboard shortcuts
  
  // Feature flags and experiments
  featureFlags        Json?  @db.Jsonb                       // A/B testing flags
  experimentData      Json?  @db.Jsonb                       // Experiment participation
  
  // Analytics and tracking data
  behaviorData        Json?  @db.Jsonb                       // User behavior tracking
  sessionData         Json?  @db.Jsonb                       // Session information
  
  @@map("user_preferences")
  @@index([userId])                                          // User lookup
  
  // JSON field indexes (PostgreSQL GIN indexes for JSON)
  @@index([settings], name: "idx_settings_gin", type: Gin)
  @@index([preferences], name: "idx_preferences_gin", type: Gin)
}

/// Product catalog with flexible JSON attributes
model Product {
  id String @id @default(cuid())
  
  // Basic product information
  name              String   @db.VarChar(200)
  sku               String   @unique @db.VarChar(50)
  
  // Flexible product attributes
  specifications    Json?    @db.Jsonb                       // Technical specifications
  features          Json?    @db.Jsonb                       // Product features
  dimensions        Json?    @db.Jsonb                       // Size/weight data
  
  // Pricing and inventory data
  pricingData       Json?    @db.Jsonb                       // Complex pricing rules
  inventoryDetails  Json?    @db.Jsonb                       // Inventory tracking
  
  // SEO and marketing content
  seoData           Json?    @db.Jsonb                       // SEO metadata
  marketingData     Json?    @db.Jsonb                       // Marketing content
  
  // Product variations and options
  variants          Json?    @db.Jsonb                       // Product variants
  options           Json?    @db.Jsonb                       // Configurable options
  bundles           Json?    @db.Jsonb                       // Bundle configurations
  
  // Media and content
  images            Json?    @db.Jsonb                       // Image metadata
  videos            Json?    @db.Jsonb                       // Video content
  documents         Json?    @db.Jsonb                       // Document attachments
  
  // External system integration
  externalData      Json?    @db.Jsonb                       // Third-party data
  syncMetadata      Json?    @db.Jsonb                       // Sync information
  
  // Custom fields for different product types
  customFields      Json?    @db.Jsonb                       // Industry-specific fields
  
  @@map("products")
  @@index([specifications], name: "idx_specs_gin", type: Gin)
  @@index([features], name: "idx_features_gin", type: Gin)
}

/// Form builder with dynamic JSON schemas
model Form {
  id String @id @default(cuid())
  
  // Form metadata
  title             String   @db.VarChar(200)
  description       String?  @db.Text
  
  // Form structure and configuration
  schema            Json     @db.Jsonb                       // Form field definitions
  uiSchema          Json?    @db.Jsonb                       // UI layout configuration
  validation        Json?    @db.Jsonb                       // Validation rules
  
  // Form behavior settings
  settings          Json?    @db.Jsonb                       // Form settings
  permissions       Json?    @db.Jsonb                       // Access permissions
  notifications     Json?    @db.Jsonb                       // Notification config
  
  // Form styling and theming
  theme             Json?    @db.Jsonb                       // Visual theme
  customCSS         Json?    @db.Jsonb                       // Custom styling
  
  // Integration and automation
  integrations      Json?    @db.Jsonb                       // Third-party integrations
  workflows         Json?    @db.Jsonb                       // Automated workflows
  
  // Analytics and tracking
  analytics         Json?    @db.Jsonb                       // Form analytics config
  
  @@map("forms")
  @@index([schema], name: "idx_form_schema_gin", type: Gin)
}

/// Form submission with flexible response data
model FormSubmission {
  id String @id @default(cuid())
  
  // Form reference
  formId            String
  form              Form     @relation(fields: [formId], references: [id])
  
  // Submission metadata
  submittedAt       DateTime @default(now()) @db.Timestamptz
  submitterIP       String?  @db.VarChar(45)
  userAgent         String?  @db.Text
  
  // Response data
  responses         Json     @db.Jsonb                       // Form responses
  
  // Processing and status
  status            String   @default("pending") @db.VarChar(20)
  processingData    Json?    @db.Jsonb                       // Processing information
  validationErrors  Json?    @db.Jsonb                       // Validation errors
  
  // Integration results
  integrationResults Json?   @db.Jsonb                       // Third-party results
  
  @@map("form_submissions")
  @@index([formId, submittedAt])                             // Form submissions by date
  @@index([responses], name: "idx_responses_gin", type: Gin) // Search responses
}
```

### 6. Arrays & List Types

```prisma
// ==========================================
// ARRAY & LIST FIELD TYPE CONFIGURATIONS
// ==========================================

/// Comprehensive array and list field examples
/// Demonstrates various array patterns and configurations
model User {
  id String @id @default(cuid())
  
  // String arrays for multiple text values
  languages         String[] @db.VarChar(10)                 // Spoken languages
  skills            String[] @db.VarChar(50)                 // Professional skills
  interests         String[] @db.VarChar(50)                 // Personal interests
  hobbies           String[] @db.VarChar(50)                 // Hobby list
  
  // Contact information arrays
  emailAddresses    String[] @db.VarChar(255)                // Multiple emails
  phoneNumbers      String[] @db.VarChar(20)                 // Multiple phones
  socialProfiles    String[] @db.Text                        // Social media URLs
  
  // Location and address arrays
  cities            String[] @db.VarChar(100)                // Cities lived in
  countries         String[] @db.Char(2)                     // Country codes
  
  // Preference and setting arrays
  notificationTypes String[] @db.VarChar(50)                 // Notification preferences
  privacySettings   String[] @db.VarChar(50)                 // Privacy options
  
  // Role and permission arrays
  roles             String[] @db.VarChar(30)                 // User roles
  permissions       String[] @db.VarChar(50)                 // Granted permissions
  
  // Tagging and categorization
  tags              String[] @db.VarChar(30)                 // User tags
  categories        String[] @db.VarChar(50)                 // User categories
  
  @@map("users")
  @@index([languages])                                       // Language-based search
  @@index([skills])                                          // Skill-based matching
  @@index([roles])                                           // Role-based queries
}

/// Content management with rich array fields
model BlogPost {
  id String @id @default(cuid())
  
  // Content identification
  title             String   @db.VarChar(200)
  content           String   @db.Text
  
  // Tagging and categorization arrays
  tags              String[] @db.VarChar(50)                 // Content tags
  categories        String[] @db.VarChar(50)                 // Post categories
  keywords          String[] @db.VarChar(30)                 // SEO keywords
  
  // Author and contributor arrays
  authors           String[] @db.VarChar(100)                // Multiple authors
  contributors      String[] @db.VarChar(100)                // Contributors
  editors           String[] @db.VarChar(100)                // Editorial team
  
  // Media and attachment arrays
  imageUrls         String[] @db.Text                        // Image URLs
  videoUrls         String[] @db.Text                        // Video URLs
  documentUrls      String[] @db.Text                        // Document URLs
  attachmentIds     String[] @db.VarChar(50)                 // Attachment references
  
  // Related content arrays
  relatedPostIds    String[] @db.VarChar(50)                 // Related posts
  crossReferences   String[] @db.VarChar(100)                // External references
  
  // SEO and social arrays
  socialTags        String[] @db.VarChar(50)                 // Social media tags
  targetAudiences   String[] @db.VarChar(50)                 // Target audiences
  
  // Publishing and distribution
  distributionChannels String[] @db.VarChar(50)              // Distribution channels
  publicationSites     String[] @db.VarChar(100)             // Publication websites
  
  @@map("blog_posts")
  @@index([tags])                                            // Tag-based search
  @@index([categories])                                      // Category filtering
  @@index([keywords])                                        // SEO keyword search
}

/// Product catalog with comprehensive array configurations
model Product {
  id String @id @default(cuid())
  
  // Product identification
  name              String   @db.VarChar(200)
  sku               String   @unique @db.VarChar(50)
  
  // Numeric arrays for measurements and quantities
  dimensions        Decimal[] @db.Decimal(8, 2)              // Length, width, height
  weights           Decimal[] @db.Decimal(6, 2)              // Weights in different units
  prices            Decimal[] @db.Decimal(10, 2)             // Price tiers or variants
  
  // Product categorization arrays
  categories        String[] @db.VarChar(50)                 // Product categories
  subcategories     String[] @db.VarChar(50)                 // Subcategories
  tags              String[] @db.VarChar(30)                 // Product tags
  
  // Feature and specification arrays
  features          String[] @db.VarChar(100)                // Product features
  specifications    String[] @db.Text                        // Technical specs
  compatibility     String[] @db.VarChar(50)                 // Compatible products
  
  // Media content arrays
  imageUrls         String[] @db.Text                        // Product images
  videoUrls         String[] @db.Text                        // Product videos
  documentUrls      String[] @db.Text                        // Manuals, guides
  
  // Variant and option arrays
  colors            String[] @db.VarChar(30)                 // Available colors
  sizes             String[] @db.VarChar(20)                 // Available sizes
  materials         String[] @db.VarChar(50)                 // Materials used
  
  // Sales and marketing arrays
  targetMarkets     String[] @db.VarChar(50)                 // Target markets
  salesChannels     String[] @db.VarChar(50)                 // Sales channels
  promotions        String[] @db.VarChar(100)                // Active promotions
  
  // Supply chain and logistics
  suppliers         String[] @db.VarChar(100)                // Supplier names
  warehouses        String[] @db.VarChar(50)                 // Warehouse locations
  shippingMethods   String[] @db.VarChar(50)                 // Shipping options
  
  // Compliance and certification
  certifications    String[] @db.VarChar(100)                // Product certifications
  standards         String[] @db.VarChar(50)                 // Industry standards
  
  @@map("products")
  @@index([categories])                                      // Category-based search
  @@index([tags])                                            // Tag-based filtering
  @@index([features])                                        // Feature-based search
  @@index([colors])                                          // Color filtering
  @@index([sizes])                                           // Size filtering
}

/// Order management with item arrays and configurations
model Order {
  id String @id @default(cuid())
  
  // Order identification
  orderNumber       String   @unique @db.VarChar(50)
  
  // Product and quantity arrays (for simple cases)
  productIds        String[] @db.VarChar(50)                 // Ordered product IDs
  quantities        Int[]                                    // Corresponding quantities
  unitPrices        Decimal[] @db.Decimal(10, 2)             // Individual prices
  
  // Shipping and delivery arrays
  shippingMethods   String[] @db.VarChar(50)                 // Multiple shipping methods
  trackingNumbers   String[] @db.VarChar(100)                // Package tracking numbers
  deliveryDates     DateTime[]                               // Expected delivery dates
  
  // Payment method arrays
  paymentMethods    String[] @db.VarChar(50)                 // Payment methods used
  transactionIds    String[] @db.VarChar(100)                // Payment transaction IDs
  
  // Status and tracking arrays
  statusHistory     String[] @db.VarChar(50)                 // Order status progression
  
  // Communication and notes
  customerNotes     String[] @db.Text                        // Customer-provided notes
  internalNotes     String[] @db.Text                        // Internal order notes
  
  // Discount and promotion arrays
  discountCodes     String[] @db.VarChar(50)                 // Applied discount codes
  promotionIds      String[] @db.VarChar(50)                 // Applied promotions
  
  @@map("orders")
  @@index([productIds])                                      // Product-based queries
  @@index([trackingNumbers])                                 // Tracking number lookup
  @@index([paymentMethods])                                  // Payment method analysis
}
```

---

## 🧠 Knowledge Check

### Field Types & Modifiers Mastery Quiz

1. **Which field modifier makes a field optional in Prisma?**
   - [ ] A) @optional
   - [x] B) ?
   - [ ] C) @nullable
   - [ ] D) @default(null)

   **Explanation**: The `?` modifier makes a field optional in Prisma, allowing it to accept null values. This is TypeScript-inspired syntax for nullable fields.

2. **What is the correct way to define a string array in Prisma?**
   - [ ] A) String @array
   - [x] B) String[]
   - [ ] C) Array<String>
   - [ ] D) [String]

   **Explanation**: Prisma uses `String[]` syntax to define arrays of strings, following TypeScript array notation conventions.

3. **Which database type should you use for precise financial calculations?**
   - [ ] A) Float
   - [x] B) Decimal
   - [ ] C) Int
   - [ ] D) Double

   **Explanation**: `Decimal` provides exact precision for financial calculations, avoiding floating-point arithmetic errors that can occur with Float types.

### Practical Exercise: E-commerce Product Model

**Challenge**: Design a comprehensive product model for an e-commerce platform

**Requirements**:
1. Include all appropriate field types (String, Int, Decimal, Boolean, DateTime, JSON)
2. Use field modifiers correctly (required, optional, unique, default)
3. Apply database-specific type mappings
4. Include arrays for multi-value fields
5. Add proper indexing for performance

**Solution Template**:
```prisma
model Product {
  // Define comprehensive field types here
  id                String    @id @default(cuid())
  // Add more fields...
}
```

**Validation Checklist**:
- [ ] String fields with appropriate length limits
- [ ] Numeric fields with proper precision
- [ ] Boolean fields for status management
- [ ] DateTime fields for lifecycle tracking
- [ ] JSON fields for flexible data
- [ ] Arrays for multi-value attributes
- [ ] Proper indexing strategy
- [ ] Database type optimizations

---

## 💡 Key Takeaways

- 🏭 **Warehouse System**: Field types organize data like a sophisticated inventory management system
- 📊 **Type Precision**: Choose appropriate types for data accuracy and performance
- 🔧 **Modifier Mastery**: Use field modifiers to enforce data integrity and validation
- 📱 **Database Optimization**: Leverage database-specific type mappings for performance
- 📝 **Array Flexibility**: Arrays provide powerful multi-value storage capabilities
- 🎯 **JSON Versatility**: JSON fields enable flexible, schema-less data storage
- ⚡ **Performance Focus**: Strategic field typing improves query performance significantly
- 🛡️ **Type Safety**: Proper field types ensure data integrity and application reliability

---

## 🔗 Navigation

**📍 Current Location**: Module 3 → Section 3.2 → Lesson 3.2.2

**⬅️ Previous**: [3.2.1 Model Declaration & Naming Conventions](./3.2.1-model-declaration-naming-conventions.md)
**➡️ Next**: [3.2.3 Relationships & References](./3.2.3-relationships-references.md)

**🏠 Section Home**: [3.2 Data Model & Models](./README.md)
**📚 Module Home**: [Module 3: Prisma Schema](../README.md)

**🗺️ Quick Links**:
- [Field Types Reference](https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#model-field-scalar-types)
- [Database Type Mappings](https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#database-type-mapping)
- [Field Modifiers Guide](https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#field-attributes)
- [Array Fields Documentation](https://www.prisma.io/docs/concepts/components/prisma-schema/data-model#arrays)

---

*🎯 Outstanding! You've mastered field types and modifiers. Next, we'll explore the powerful world of relationships and references in Prisma models!*
